const PDFDocument = require('pdfkit');
const fs = require('fs');
const path = require('path');

// –°—Ç–≤–æ—Ä—é—î–º–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—é –¥–ª—è PDF —Ñ–∞–π–ª—ñ–≤
const assetsDir = path.join(__dirname, 'assets', 'tasks');
if (!fs.existsSync(assetsDir)) {
  fs.mkdirSync(assetsDir, { recursive: true });
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è PDF —Ñ–∞–π–ª—É
function createPDF(filename, title, content) {
  const doc = new PDFDocument();
  const filePath = path.join(assetsDir, filename);
  
  doc.pipe(fs.createWriteStream(filePath));
  
  // –ó–∞–≥–æ–ª–æ–≤–æ–∫
  doc.fontSize(20)
     .text(title, { align: 'center' })
     .moveDown(2);
  
  // –ö–æ–Ω—Ç–µ–Ω—Ç
  doc.fontSize(12)
     .text(content, { align: 'left' });
  
  doc.end();
  
  console.log(`‚úÖ –°—Ç–≤–æ—Ä–µ–Ω–æ PDF: ${filename}`);
}

// PDF –¥–ª—è QA
const qaContent = `
–¢–ï–°–¢–û–í–ï –ó–ê–í–î–ê–ù–ù–Ø –î–õ–Ø QA –°–ü–ï–¶–Ü–ê–õ–Ü–°–¢–ê

–ó–∞–≤–¥–∞–Ω–Ω—è 1: –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–µ–±-–¥–æ–¥–∞—Ç–∫—É
–ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω–∏–π –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫: https://example.com

–©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:
‚Ä¢ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å –≤—Å—ñ—Ö –∫–Ω–æ–ø–æ–∫ —Ç–∞ —Ñ–æ—Ä–º
‚Ä¢ –í–∞–ª—ñ–¥–∞—Ü—ñ—é –≤–≤–µ–¥–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö
‚Ä¢ –ê–¥–∞–ø—Ç–∏–≤–Ω—ñ—Å—Ç—å –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö
‚Ä¢ –®–≤–∏–¥–∫—ñ—Å—Ç—å –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–æ–∫

–ó–∞–≤–¥–∞–Ω–Ω—è 2: –ù–∞–ø–∏—Å–∞–Ω–Ω—è —Ç–µ—Å—Ç-–∫–µ–π—Å—ñ–≤
–°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–µ—Å—Ç-–∫–µ–π—Å–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:
‚Ä¢ –£—Å–ø—ñ—à–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑ –≤–∞–ª—ñ–¥–Ω–∏–º–∏ –¥–∞–Ω–∏–º–∏
‚Ä¢ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑ –Ω–µ–≤–∞–ª—ñ–¥–Ω–∏–º email
‚Ä¢ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑ –∫–æ—Ä–æ—Ç–∫–∏–º –ø–∞—Ä–æ–ª–µ–º
‚Ä¢ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑ —ñ—Å–Ω—É—é—á–∏–º email

–ó–∞–≤–¥–∞–Ω–Ω—è 3: –ë–∞–≥-—Ä–µ–ø–æ—Ä—Ç
–ó–Ω–∞–π–¥—ñ—Ç—å –º—ñ–Ω—ñ–º—É–º 3 –±–∞–≥–∏ –Ω–∞ —Å–∞–π—Ç—ñ —Ç–∞ –æ–ø–∏—à—ñ—Ç—å —ó—Ö —É —Ñ–æ—Ä–º–∞—Ç—ñ:
‚Ä¢ –ö—Ä–æ–∫–∏ –¥–ª—è –≤—ñ–¥—Ç–≤–æ—Ä–µ–Ω–Ω—è
‚Ä¢ –û—á—ñ–∫—É–≤–∞–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚Ä¢ –§–∞–∫—Ç–∏—á–Ω–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç
‚Ä¢ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç –±–∞–≥—É

–¢–µ—Ä–º—ñ–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 3 –¥–Ω—ñ
–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞–¥—ñ—à–ª—ñ—Ç—å —É –≤–∏–≥–ª—è–¥—ñ –¥–æ–∫—É–º–µ–Ω—Ç—É –∑ –æ–ø–∏—Å–æ–º –≤—Å—ñ—Ö –∑–Ω–∞–π–¥–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º.
`;

// PDF –¥–ª—è BA
const baContent = `
–¢–ï–°–¢–û–í–ï –ó–ê–í–î–ê–ù–ù–Ø –î–õ–Ø –ë–Ü–ó–ù–ï–°-–ê–ù–ê–õ–Ü–¢–ò–ö–ê

–ó–∞–≤–¥–∞–Ω–Ω—è 1: –ê–Ω–∞–ª—ñ–∑ –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—ñ–≤
–ü—Ä–æ–∞–Ω–∞–ª—ñ–∑—É–π—Ç–µ –ø—Ä–æ—Ü–µ—Å –æ–Ω–ª–∞–π–Ω-–∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Ç–æ–≤–∞—Ä—ñ–≤ –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω—ñ.

–°—Ç–≤–æ—Ä—ñ—Ç—å:
‚Ä¢ –î—ñ–∞–≥—Ä–∞–º—É –±—ñ–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—É (BPMN)
‚Ä¢ –û–ø–∏—Å –≤—Å—ñ—Ö –µ—Ç–∞–ø—ñ–≤ –ø—Ä–æ—Ü–µ—Å—É
‚Ä¢ –í–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–æ—á–æ–∫ –∫–æ–Ω—Ç—Ä–æ–ª—é —è–∫–æ—Å—Ç—ñ
‚Ä¢ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó —â–æ–¥–æ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó

–ó–∞–≤–¥–∞–Ω–Ω—è 2: –ó–±—ñ—Ä –≤–∏–º–æ–≥
–£—è–≤—ñ—Ç—å, —â–æ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ —Ä–æ–∑—Ä–æ–±–∏—Ç–∏ –º–æ–±—ñ–ª—å–Ω–∏–π –¥–æ–¥–∞—Ç–æ–∫ –¥–ª—è –¥–æ—Å—Ç–∞–≤–∫–∏ —ó–∂—ñ.

–ó–±–µ—Ä—ñ—Ç—å –≤–∏–º–æ–≥–∏ –≤—ñ–¥:
‚Ä¢ –ö–ª—ñ—î–Ω—Ç—ñ–≤ (–∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ –¥–æ–¥–∞—Ç–∫—É)
‚Ä¢ –†–µ—Å—Ç–æ—Ä–∞–Ω—ñ–≤-–ø–∞—Ä—Ç–Ω–µ—Ä—ñ–≤
‚Ä¢ –ö—É—Ä'—î—Ä—ñ–≤
‚Ä¢ –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä—ñ–≤ —Å–∏—Å—Ç–µ–º–∏

–ó–∞–≤–¥–∞–Ω–Ω—è 3: –¢–µ—Ö–Ω—ñ—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è
–ù–∞–ø–∏—à—ñ—Ç—å —Ç–µ—Ö–Ω—ñ—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è –¥–ª—è —Ñ—É–Ω–∫—Ü—ñ—ó "–†–µ–π—Ç–∏–Ω–≥ –∫—É—Ä'—î—Ä—ñ–≤":
‚Ä¢ –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏
‚Ä¢ –ù–µ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –≤–∏–º–æ–≥–∏
‚Ä¢ –ü—Ä–∏–π–º–∞–ª—å–Ω—ñ –∫—Ä–∏—Ç–µ—Ä—ñ—ó
‚Ä¢ –ú–æ–∂–ª–∏–≤—ñ —Ä–∏–∑–∏–∫–∏ —Ç–∞ –æ–±–º–µ–∂–µ–Ω–Ω—è

–¢–µ—Ä–º—ñ–Ω –≤–∏–∫–æ–Ω–∞–Ω–Ω—è: 5 –¥–Ω—ñ–≤
–†–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞–¥—ñ—à–ª—ñ—Ç—å —É –≤–∏–≥–ª—è–¥—ñ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–≤–∞–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –∑ —É—Å—ñ–º–∞ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–∞–º–∏.
`;

// –°—Ç–≤–æ—Ä—é—î–º–æ PDF —Ñ–∞–π–ª–∏
createPDF('qa-test-task.pdf', '–¢–ï–°–¢–û–í–ï –ó–ê–í–î–ê–ù–ù–Ø - QA', qaContent);
createPDF('ba-test-task.pdf', '–¢–ï–°–¢–û–í–ï –ó–ê–í–î–ê–ù–ù–Ø - BA', baContent);

console.log('üéâ –í—Å—ñ PDF —Ñ–∞–π–ª–∏ —Å—Ç–≤–æ—Ä–µ–Ω–æ —É—Å–ø—ñ—à–Ω–æ!');
